<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MominAI</title>

  <!-- Styles & Fonts -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm@5.3.0/css/xterm.css" />
  <script type="module">import 'https://esm.sh/twind/shim';</script>

  <style>
    :root {
      /* Theme Variables */
      --background: #0a192f;            /* Dark blue base */
      --background-secondary: #112240; /* Lighter blue accent */
      --foreground: #F0F2F5;
      --accent: #64ffda;                /* Bright cyan for buttons/links */
      --accent-text: #0a192f;
      --border-color: rgba(100, 255, 218, 0.1);

      /* UI/IDE Specific */
      --ui-panel-bg: rgba(17, 34, 64, 0.7);
      --ui-panel-bg-heavy: #0a192f;
      --ui-border: rgba(100, 255, 218, 0.1);
      --ui-border-radius: 0.5rem;

      --gray-light: #4a4a4a;
      --gray-dark: #2a2a2a;
      --gray: #8892b0;
      --accent-glow: rgba(100, 255, 218, 0.2);
    }

    /* Reset & Base */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body, #root {
      height: 100%;
      width: 100%;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      background: var(--background);
      color: var(--foreground);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
      transition: background 0.5s ease;
    }
    
    body.ide-view {
      background: #020c1b;
    }

    #root {
      isolation: isolate;
      position: relative;
      min-height: 100vh;
      overflow: hidden;
    }

    /* Aurora overlay */
    #root::before {
      content: "";
      position: absolute;
      inset: 0;
      background: 
        radial-gradient(60% 80% at 20% 20%, rgba(100, 255, 218, 0.15), transparent),
        radial-gradient(50% 70% at 80% 30%, rgba(58, 123, 213, 0.15), transparent),
        radial-gradient(70% 90% at 50% 80%, rgba(139, 92, 246, 0.1), transparent);
      animation: auroraFlow 25s ease-in-out infinite alternate;
      mix-blend-mode: screen;
      z-index: -1;
      pointer-events: none;
    }

    /* Cursor override (when using custom cursor) */
    .custom-cursor-active, .custom-cursor-active * {
      cursor: none !important;
    }
    
    .native-cursor-active, .native-cursor-active * {
      cursor: auto !important;
    }

    /* XTerm adjustments */
    .xterm {
      padding: 10px;
      height: 100%;
    }

    .xterm-viewport {
      width: initial !important;
    }
    
    /* Scrollbar */
    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }
    ::-webkit-scrollbar-track {
        background: rgba(0,0,0,0.2);
    }
    ::-webkit-scrollbar-thumb {
        background: #3a506b;
        border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
        background: #4f6f8f;
    }


    /* Animations */
    @keyframes auroraFlow {
      0%   { transform: translate(-10%, -10%) scale(1); }
      50%  { transform: translate(10%, 10%) scale(1.2); }
      100% { transform: translate(-10%, 5%) scale(1); }
    }

    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes scaleIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    
    @keyframes fade-in-up {
      from { opacity: 0; transform: translateY(30px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .reveal {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 1.2s ease-out, transform 1.2s ease-out;
    }

    .reveal.visible {
      opacity: 1;
      transform: translateY(0);
    }
    
     @keyframes scroll {
        0% { transform: translateX(0); }
        100% { transform: translateX(-50%); }
    }
    
    .monaco-breakpoint {
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><circle cx="8" cy="8" r="6" fill="%23e51400" /></svg>');
        background-size: contain;
        background-position: center;
        background-repeat: no-repeat;
    }
  </style>

  <!-- Monaco Editor -->
  <script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.44.0/min/vs/loader.js"></script>
  <script>
    require.config({ paths: { 'vs': 'https://cdn.jsdelivr.net/npm/monaco-editor@0.44.0/min/vs' }});
    window.MonacoEnvironment = {
      getWorkerUrl: function (workerId, label) {
        return `data:text/javascript;charset=utf-8,${encodeURIComponent(`
          self.MonacoEnvironment = {
            baseUrl: 'https://cdn.jsdelivr.net/npm/monaco-editor@0.44.0/min/'
          };
          importScripts('https://cdn.jsdelivr.net/npm/monaco-editor@0.44.0/min/vs/base/worker/workerMain.js');`
        )}`;
      }
    };
  </script>

  <!-- Stripe -->
  <script src="https://js.stripe.com/v3/"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.45.0/dist/umd/supabase.min.js"></script>

  <!-- Import Map -->
  <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
    "jszip": "https://esm.sh/jszip@3.10.1",
    "@google/genai": "https://esm.sh/@google/genai@0.2.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/",
    "react/": "https://aistudiocdn.com/react@^19.1.1/",
    "react-dom": "https://aistudiocdn.com/react-dom@^19.1.1",
    "xterm": "https://aistudiocdn.com/xterm@^5.3.0",
    "xterm-addon-fit": "https://aistudiocdn.com/xterm-addon-fit@^0.8.0",
    "@webcontainer/api": "https://aistudiocdn.com/@webcontainer/api@^1.6.1",
    "path": "https://aistudiocdn.com/path@^0.12.7",
    "url": "https://aistudiocdn.com/url@^0.11.4",
    "vite": "https://aistudiocdn.com/vite@^7.1.3",
    "stripe": "https://aistudiocdn.com/stripe@^18.4.0"
  }
}
</script>

  <!-- Google Auth -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
  <div id="root"></div>
  <script type="module" src="/src/index.tsx" defer></script>
</body>
</html>
